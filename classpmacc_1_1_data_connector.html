<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIConGPU: pmacc::DataConnector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIConGPU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>pmacc</b></li><li class="navelem"><a class="el" href="classpmacc_1_1_data_connector.html">DataConnector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classpmacc_1_1_data_connector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">pmacc::DataConnector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Singleton class which collects and shares simulation data.  
 <a href="classpmacc_1_1_data_connector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_data_connector_8hpp_source.html">DataConnector.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a837ed7a1faa3501284d25d815a2ff167"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmacc_1_1_data_connector.html#a837ed7a1faa3501284d25d815a2ff167">hasId</a> (SimulationDataId id)</td></tr>
<tr class="memdesc:a837ed7a1faa3501284d25d815a2ff167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if data with identifier id is shared.  <a href="#a837ed7a1faa3501284d25d815a2ff167">More...</a><br /></td></tr>
<tr class="separator:a837ed7a1faa3501284d25d815a2ff167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823bc8afead2a4a65d7d6dd27c9e032b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmacc_1_1_data_connector.html#a823bc8afead2a4a65d7d6dd27c9e032b">initialise</a> (<a class="el" href="classpmacc_1_1_abstract_initialiser.html">AbstractInitialiser</a> &amp;initialiser, uint32_t currentStep)</td></tr>
<tr class="memdesc:a823bc8afead2a4a65d7d6dd27c9e032b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises all Datasets using initialiser.  <a href="#a823bc8afead2a4a65d7d6dd27c9e032b">More...</a><br /></td></tr>
<tr class="separator:a823bc8afead2a4a65d7d6dd27c9e032b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7193ca24fbabca1e67946936510dd49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmacc_1_1_data_connector.html#ae7193ca24fbabca1e67946936510dd49">share</a> (const std::shared_ptr&lt; <a class="el" href="classpmacc_1_1_i_simulation_data.html">ISimulationData</a> &gt; &amp;data)</td></tr>
<tr class="memdesc:ae7193ca24fbabca1e67946936510dd49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new Dataset with data and identifier id.  <a href="#ae7193ca24fbabca1e67946936510dd49">More...</a><br /></td></tr>
<tr class="separator:ae7193ca24fbabca1e67946936510dd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c78cbf8163bdc6f6d64649f825f939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmacc_1_1_data_connector.html#a23c78cbf8163bdc6f6d64649f825f939">unshare</a> (SimulationDataId id)</td></tr>
<tr class="memdesc:a23c78cbf8163bdc6f6d64649f825f939"><td class="mdescLeft">&#160;</td><td class="mdescRight">End sharing a dataset with identifier id.  <a href="#a23c78cbf8163bdc6f6d64649f825f939">More...</a><br /></td></tr>
<tr class="separator:a23c78cbf8163bdc6f6d64649f825f939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8546f59ed8ab3a61829f3571da47ed"><td class="memItemLeft" align="right" valign="top"><a id="a6d8546f59ed8ab3a61829f3571da47ed"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmacc_1_1_data_connector.html#a6d8546f59ed8ab3a61829f3571da47ed">clean</a> ()</td></tr>
<tr class="memdesc:a6d8546f59ed8ab3a61829f3571da47ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unshare all associated datasets. <br /></td></tr>
<tr class="separator:a6d8546f59ed8ab3a61829f3571da47ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3dd7fb247d8d952767d4f9a36d51553"><td class="memTemplParams" colspan="2">template&lt;class TYPE &gt; </td></tr>
<tr class="memitem:ac3dd7fb247d8d952767d4f9a36d51553"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; TYPE &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classpmacc_1_1_data_connector.html#ac3dd7fb247d8d952767d4f9a36d51553">get</a> (SimulationDataId id, bool noSync=false)</td></tr>
<tr class="memdesc:ac3dd7fb247d8d952767d4f9a36d51553"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns shared pointer to managed data.  <a href="#ac3dd7fb247d8d952767d4f9a36d51553">More...</a><br /></td></tr>
<tr class="separator:ac3dd7fb247d8d952767d4f9a36d51553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45390c4ce2b06d2ec7944aeccc598d8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpmacc_1_1_data_connector.html#a45390c4ce2b06d2ec7944aeccc598d8e">releaseData</a> (SimulationDataId)</td></tr>
<tr class="memdesc:a45390c4ce2b06d2ec7944aeccc598d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate a data set gotten temporarily via.  <a href="#a45390c4ce2b06d2ec7944aeccc598d8e">More...</a><br /></td></tr>
<tr class="separator:a45390c4ce2b06d2ec7944aeccc598d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aeafeeb175c0a83bfa4621a2c30fe899a"><td class="memItemLeft" align="right" valign="top"><a id="aeafeeb175c0a83bfa4621a2c30fe899a"></a>
struct&#160;</td><td class="memItemRight" valign="bottom"><b>detail::Environment</b></td></tr>
<tr class="separator:aeafeeb175c0a83bfa4621a2c30fe899a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">Singleton class which collects and shares simulation data. </p>
<p class="">All members are kept as shared pointers, which allows their factories to be destroyed after sharing ownership with our <a class="el" href="classpmacc_1_1_data_connector.html" title="Singleton class which collects and shares simulation data. ">DataConnector</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac3dd7fb247d8d952767d4f9a36d51553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3dd7fb247d8d952767d4f9a36d51553">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TYPE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; TYPE &gt; pmacc::DataConnector::get </td>
          <td>(</td>
          <td class="paramtype">SimulationDataId&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>noSync</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns shared pointer to managed data. </p>
<p class="">Reference to data in Dataset with identifier id and type TYPE is returned. If the Dataset status in invalid, it is automatically synchronized. Increments the reference counter to the dataset specified by id. This reference has to be released after all read/write operations before the next synchronize()/getData() on this data are done using <a class="el" href="classpmacc_1_1_data_connector.html#a45390c4ce2b06d2ec7944aeccc598d8e" title="Indicate a data set gotten temporarily via. ">releaseData()</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TYPE</td><td>if of the data to load </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the Dataset to load from </td></tr>
    <tr><td class="paramname">noSync</td><td>indicates that no synchronization should be performed, regardless of dataset status </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns a reference to the data of type TYPE </dd></dl>

</div>
</div>
<a id="a837ed7a1faa3501284d25d815a2ff167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837ed7a1faa3501284d25d815a2ff167">&#9670;&nbsp;</a></span>hasId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool pmacc::DataConnector::hasId </td>
          <td>(</td>
          <td class="paramtype">SimulationDataId&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if data with identifier id is shared. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the Dataset to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if dataset with id is registered </dd></dl>

</div>
</div>
<a id="a823bc8afead2a4a65d7d6dd27c9e032b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a823bc8afead2a4a65d7d6dd27c9e032b">&#9670;&nbsp;</a></span>initialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmacc::DataConnector::initialise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpmacc_1_1_abstract_initialiser.html">AbstractInitialiser</a> &amp;&#160;</td>
          <td class="paramname"><em>initialiser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>currentStep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialises all Datasets using initialiser. </p>
<p class="">After initialising, the Datasets will be invalid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initialiser</td><td>class used for initialising Datasets </td></tr>
    <tr><td class="paramname">currentStep</td><td>current simulation step </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45390c4ce2b06d2ec7944aeccc598d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45390c4ce2b06d2ec7944aeccc598d8e">&#9670;&nbsp;</a></span>releaseData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmacc::DataConnector::releaseData </td>
          <td>(</td>
          <td class="paramtype">SimulationDataId&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicate a data set gotten temporarily via. </p>
<dl class="section see"><dt>See also</dt><dd>getData is not used anymore</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000055">Todo:</a></b></dt><dd>not implemented</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id for the dataset previously acquired using getData() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7193ca24fbabca1e67946936510dd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7193ca24fbabca1e67946936510dd49">&#9670;&nbsp;</a></span>share()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmacc::DataConnector::share </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classpmacc_1_1_i_simulation_data.html">ISimulationData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a new Dataset with data and identifier id. </p>
<p class="">If a Dataset with identifier id already exists, a runtime_error is thrown. (Check with <a class="el" href="classpmacc_1_1_data_connector.html#a837ed7a1faa3501284d25d815a2ff167" title="Returns if data with identifier id is shared. ">DataConnector::hasId</a> when necessary.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>simulation data to share ownership </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a23c78cbf8163bdc6f6d64649f825f939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23c78cbf8163bdc6f6d64649f825f939">&#9670;&nbsp;</a></span>unshare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pmacc::DataConnector::unshare </td>
          <td>(</td>
          <td class="paramtype">SimulationDataId&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>End sharing a dataset with identifier id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the dataset to remove </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/tmp/tmp.XvlqRBNgNg/picongpu/include/pmacc/dataManagement/<a class="el" href="_data_connector_8hpp_source.html">DataConnector.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
